#
# ODP internal pkg-config file
#
# In some distros fully static linking of executables is not supported. Even in
# in that case, we want to support static linking of ODP via pkg-config.
#
# pkg-config --static --libs outputs fields in the following order:
# Libs Libs.private Requires.Libs Requires.Libs.private
#
# "Requires" is this file, since libodp requires libodp-internal. By putting
# the shared library in Requires.Libs (i.e. Libs in this file) and the static
# one in Libs.private (in libodp pc file), the static library comes first in
# the pkg-config output. The shared library is linked with --as-needed, so in
# static link, as all symbols are resolved by linking the static library first,
# the shared library is actually not linked at all.
#

prefix=@prefix@
exec_prefix=@exec_prefix@
libdir=@libdir@
includedir=@includedir@

Name: lib@ODP_LIB_NAME@-internal
Description: ODP internal pkg-config file. Do not use directly, use lib@ODP_LIB_NAME@.pc instead.
Version: @PKGCONFIG_VERSION@
Requires.private: libconfig@AARCH64CRYPTO_PKG@
Libs: -L${libdir} -Wl,--push-state,--as-needed,-l@ODP_LIB_NAME@,--pop-state @ATOMIC_LIBS_NON_ABI_COMPAT@
Libs.private: @OPENSSL_STATIC_LIBS@ @DPDK_LIBS@ @PCAP_LIBS@ @PTHREAD_LIBS@ @TIMER_LIBS@ @LIBXDP_LIBS@ -lpthread @ATOMIC_LIBS_ABI_COMPAT@
Cflags: -I${includedir}
